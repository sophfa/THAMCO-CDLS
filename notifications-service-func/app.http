### Azure Functions Notification API Testing

# Base URL for local development
@baseUrl = http://localhost:7071

### Health Check (if available)
GET {{baseUrl}}/api/health

### List all notifications
GET {{baseUrl}}/api/notifications
Content-Type: application/json

### Get a specific notification by ID
GET {{baseUrl}}/api/notifications/PROD-001
Content-Type: application/json

### Create a new notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "id": "PROD-001",
  "name": "Wireless Headphones",
  "price": 99.99,
  "category": "Electronics",
  "description": "High-quality wireless headphones with noise cancellation",
  "inStock": true
}

### Create another notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "id": "PROD-002",
  "name": "Gaming Mouse",
  "price": 49.99,
  "category": "Electronics",
  "description": "RGB gaming mouse with high precision sensor",
  "inStock": true
}

### Create a notification with minimal fields
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "id": "PROD-003",
  "name": "USB Cable",
  "price": 9.99,
  "category": "Accessories"
}

### Test validation - missing required field (name)
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "id": "PROD-004",
  "price": 19.99,
  "category": "Accessories"
}

### Test validation - invalid price (negative)
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "id": "PROD-005",
  "name": "Invalid Notification",
  "price": -10.00,
  "category": "Test"
}

### Test validation - empty name
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "id": "PROD-006",
  "name": "",
  "price": 25.00,
  "category": "Test"
}

### Test duplicate ID
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "id": "PROD-001",
  "name": "Duplicate Notification",
  "price": 50.00,
  "category": "Test"
}

### Test get non-existent notification
GET {{baseUrl}}/api/notifications/NON-EXISTENT
Content-Type: application/json

### Test with different environments
### Production (uncomment when needed)
# @baseUrl = https://your-function-app.azurewebsites.net

### Staging (uncomment when needed)  
# @baseUrl = https://your-function-app-staging.azurewebsites.net

### ===== CREATE NOTIFICATION EXAMPLES =====

### Create Reservation Notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "Reservation",
  "deviceName": "MacBook Pro 16-inch",
  "collectionDate": "2025-11-05",
  "userEmail": "c2595690@live.tees.ac.uk"
}

### Create Accepted Notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "Accepted",
  "deviceName": "MacBook Pro 16-inch",
  "collectionDate": "2025-11-05",
  "userEmail": "c2595690@live.tees.ac.uk"
}

### Create Rejected Notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "Rejected",
  "deviceName": "MacBook Pro 16-inch",
  "reason": "Device not available on requested date",
  "userEmail": "c2595690@live.tees.ac.uk"
}

### Create Cancelled Notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "Cancelled",
  "deviceName": "MacBook Pro 16-inch",
  "reason": "User requested cancellation",
  "userEmail": "c2595690@live.tees.ac.uk"
}

### Create Collected Notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "Collected",
  "deviceName": "MacBook Pro 16-inch",
  "returnDate": "2025-11-12",
  "userEmail": "c2595690@live.tees.ac.uk"
}

### Create Returned Notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "Returned",
  "deviceName": "MacBook Pro 16-inch",
  "userEmail": "c2595690@live.tees.ac.uk"
}

### Create Custom Notification
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "Custom",
  "content": "Your device maintenance is scheduled for next week. Please ensure it's available.",
  "userEmail": "c2595690@live.tees.ac.uk"
}

### Create Notification without Email (will only store in database)
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user456",
  "type": "Reservation",
  "deviceName": "iPad Pro",
  "collectionDate": "2025-11-06"
}

### Test Error Cases

### Missing required fields
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123"
}

### Invalid notification type
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "InvalidType",
  "content": "test"
}

### Missing device name for reservation
POST {{baseUrl}}/api/notifications
Content-Type: application/json

{
  "userId": "user123",
  "type": "Reservation",
  "collectionDate": "2025-11-05"
}